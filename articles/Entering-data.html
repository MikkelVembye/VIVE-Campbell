<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="VIVECampbell">
<title>Entering data, calculating effect sizes, and cluster bias correction example • VIVECampbell</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Entering data, calculating effect sizes, and cluster bias correction example">
<meta property="og:description" content="VIVECampbell">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">VIVECampbell</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/VIVECampbell.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Entering-data.html">Entering data, calculating effect sizes, and cluster bias correction example</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/MikkelVembye/VIVECampbell/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Entering data, calculating effect sizes, and cluster bias correction example</h1>
            
            <h4 data-toc-skip class="date">Last modified 2023-01-19</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/MikkelVembye/VIVECampbell/blob/HEAD/vignettes/Entering-data.Rmd" class="external-link"><code>vignettes/Entering-data.Rmd</code></a></small>
      <div class="d-none name"><code>Entering-data.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette/article provides examples of how to enter data from
rather complex result tables and how to calculate effect size and
conduct cluster bias correction for such data, using functions from the
<code>VIVECampbell</code> R package.</p>
</div>
<div class="section level2">
<h2 id="loading-necessary-package">Loading necessary package<a class="anchor" aria-label="anchor" href="#loading-necessary-package"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mikkelvembye.github.io/VIVECampbell/">VIVECampbell</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://purrr.tidyverse.org/" class="external-link">purrr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="enter-data-from-fisher-bentley-1996">Enter data from Fisher &amp; Bentley (1996)<a class="anchor" aria-label="anchor" href="#enter-data-from-fisher-bentley-1996"></a>
</h2>
<p>Find data in Table 4 (p. 1248)</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">Fisher1996</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  </span>
<span>  Setting <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Inpatient"</span>, <span class="st">"Outpatient"</span><span class="op">)</span>, each <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>  </span>
<span>  Outcome <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Alcohol use"</span><span class="op">)</span>, each <span class="op">=</span> <span class="fl">6</span><span class="op">)</span>,</span>
<span>  </span>
<span>  treatment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Disease"</span>, <span class="st">"Cognitive"</span>, <span class="st">"TAU"</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  </span>
<span>    N <span class="op">=</span> <span class="fl">6</span>, <span class="co"># N is imputed/guested for illustrative purposes only, because we only know the total sample (N = 19).</span></span>
<span>    </span>
<span>    m_pre <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="fl">.469</span>, <span class="fl">.441</span>, <span class="fl">.349</span>, <span class="co"># Alcohol use - inpatient</span></span>
<span>      <span class="fl">.725</span>, <span class="fl">.598</span>, <span class="fl">.682</span>  <span class="co"># Alcohol use - outpatient</span></span>
<span>      </span>
<span>    <span class="op">)</span>,</span>
<span>    </span>
<span>    sd_pre <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="fl">.12</span>, <span class="fl">.13</span>, <span class="fl">.22</span>,</span>
<span>      <span class="fl">.11</span>, <span class="fl">.16</span>, <span class="fl">.17</span></span>
<span>      </span>
<span>    <span class="op">)</span>,</span>
<span>    </span>
<span>    m_post <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="fl">.070</span>, <span class="fl">.018</span>, <span class="fl">.141</span>,</span>
<span>      <span class="fl">.521</span>, <span class="fl">.152</span>, <span class="fl">.492</span></span>
<span>    <span class="op">)</span>,</span>
<span>    </span>
<span>    sd_post <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="fl">.11</span>, <span class="fl">.05</span>, <span class="fl">.21</span>,</span>
<span>      <span class="fl">.11</span>, <span class="fl">.15</span>, <span class="fl">.27</span></span>
<span>      </span>
<span>      </span>
<span>    <span class="op">)</span>,</span>
<span>    </span>
<span>    m_diff <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="fl">.399</span>, <span class="fl">.423</span>, <span class="fl">.208</span>,</span>
<span>      <span class="fl">.204</span>, <span class="fl">.446</span>, <span class="fl">.190</span></span>
<span>      </span>
<span>    <span class="op">)</span>,</span>
<span>    </span>
<span>    sd_diff <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="fl">.02</span>, <span class="fl">.09</span>, <span class="fl">.04</span>,</span>
<span>      <span class="fl">.01</span>, <span class="fl">.02</span>, <span class="fl">.11</span></span>
<span>      </span>
<span>    <span class="op">)</span>,</span>
<span>    </span>
<span>    <span class="co"># From the Cochrane handbook (Higgins &amp; Thomas, 2019, p. 166)</span></span>
<span>    r <span class="op">=</span> <span class="op">(</span><span class="va">sd_pre</span><span class="op">^</span><span class="fl">2</span> <span class="op">+</span> <span class="va">sd_post</span><span class="op">^</span><span class="fl">2</span><span class="op">-</span><span class="va">sd_diff</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fl">2</span> <span class="op">*</span> <span class="va">sd_pre</span> <span class="op">*</span> <span class="va">sd_post</span> <span class="op">)</span>,</span>
<span>    </span>
<span>    <span class="co"># Obtained from Wilson (2016). Converting sd_diff to raw sd</span></span>
<span>    sdg <span class="op">=</span> <span class="va">sd_diff</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="va">r</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    </span>
<span>    z <span class="op">=</span> <span class="fl">0.5</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span> <span class="op">(</span><span class="fl">1</span><span class="op">+</span><span class="va">r</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="va">r</span><span class="op">)</span> <span class="op">)</span>,</span>
<span>    v <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="op">(</span><span class="va">N</span><span class="op">-</span><span class="fl">3</span><span class="op">)</span></span>
<span>    </span>
<span>    </span>
<span><span class="op">)</span>; <span class="va">Fisher1996</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 14</span></span></span>
<span><span class="co">#&gt;   Setting    Outcome     treatment     N m_pre sd_pre m_post sd_post m_diff</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Inpatient  Alcohol use Disease       6 0.469   0.12  0.07     0.11  0.399</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Inpatient  Alcohol use Cognitive     6 0.441   0.13  0.018    0.05  0.423</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Inpatient  Alcohol use TAU           6 0.349   0.22  0.141    0.21  0.208</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Outpatient Alcohol use Disease       6 0.725   0.11  0.521    0.11  0.204</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Outpatient Alcohol use Cognitive     6 0.598   0.16  0.152    0.15  0.446</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> Outpatient Alcohol use TAU           6 0.682   0.17  0.492    0.27  0.19 </span></span>
<span><span class="co">#&gt;   sd_diff      r    sdg     z      v</span></span>
<span><span class="co">#&gt;     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>    0.02 0.988<span style="text-decoration: underline;">6</span> 0.132<span style="text-decoration: underline;">7</span> 2.582 0.333<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>    0.09 0.869<span style="text-decoration: underline;">2</span> 0.176<span style="text-decoration: underline;">0</span> 1.330 0.333<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>    0.04 0.983<span style="text-decoration: underline;">8</span> 0.222<span style="text-decoration: underline;">0</span> 2.403 0.333<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>    0.01 0.995<span style="text-decoration: underline;">9</span> 0.110<span style="text-decoration: underline;">0</span> 3.090 0.333<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>    0.02 0.993<span style="text-decoration: underline;">8</span> 0.178<span style="text-decoration: underline;">9</span> 2.883 0.333<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>    0.11 0.977<span style="text-decoration: underline;">1</span> 0.514<span style="text-decoration: underline;">3</span> 2.230 0.333<span style="text-decoration: underline;">3</span></span></span></code></pre></div>
<p>Calculating Cohens’ <em>d</em> and Hedges’ <em>g</em></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">treat_label_fisher</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">Fisher1996</span><span class="op">$</span><span class="va">treatment</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span></span>
<span></span>
<span></span>
<span><span class="va">fisher_function</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">label</span><span class="op">)</span><span class="op">{</span></span>
<span>  </span>
<span>  <span class="va">Fisher1996</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">treatment</span> <span class="op">!=</span> <span class="va">label</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">Setting</span>, <span class="va">Outcome</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span></span>
<span>      study <span class="op">=</span> <span class="st">"Fisher1996"</span>,</span>
<span>      treatment <span class="op">=</span> <span class="va">treatment</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>      es_method <span class="op">=</span> <span class="st">"diff-in-diffs"</span>,</span>
<span>      </span>
<span>      M <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">v</span><span class="op">*</span><span class="va">z</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span>,</span>
<span>      ppcor <span class="op">=</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="va">M</span><span class="op">)</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="va">M</span><span class="op">)</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>      </span>
<span>      Nt <span class="op">=</span> <span class="va">N</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>      Nc <span class="op">=</span> <span class="va">N</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>,</span>
<span>      N_tot <span class="op">=</span> <span class="va">Nt</span> <span class="op">+</span> <span class="va">Nc</span>,</span>
<span>      </span>
<span>      df_ind <span class="op">=</span> <span class="va">N_tot</span>,</span>
<span>      </span>
<span>      s_pool <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="op">(</span><span class="va">N</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span> <span class="op">*</span> <span class="va">sd_post</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span> <span class="op">/</span> <span class="va">df_ind</span><span class="op">)</span>,</span>
<span>      </span>
<span>      diff_t <span class="op">=</span> <span class="va">m_post</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">-</span> <span class="va">m_pre</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>      diff_c <span class="op">=</span> <span class="va">m_post</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">-</span> <span class="va">m_pre</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>,</span>
<span>      </span>
<span>      d <span class="op">=</span> <span class="op">(</span><span class="va">diff_t</span> <span class="op">-</span> <span class="va">diff_c</span><span class="op">)</span> <span class="op">/</span> <span class="va">s_pool</span>,</span>
<span>      vd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="va">N</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="va">ppcor</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="va">d</span><span class="op">^</span><span class="fl">2</span><span class="op">/</span><span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="va">df_ind</span><span class="op">)</span>,</span>
<span>      se <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">vd</span><span class="op">)</span></span>
<span>      </span>
<span>      </span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/relocate.html" class="external-link">relocate</a></span><span class="op">(</span><span class="va">study</span><span class="op">)</span></span>
<span>  </span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">Fisher1996_est</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://purrr.tidyverse.org/reference/map_dfr.html" class="external-link">map_dfr</a></span><span class="op">(</span><span class="va">treat_label_fisher</span>, <span class="op">~</span> <span class="fu">fisher_function</span><span class="op">(</span>label <span class="op">=</span> <span class="va">.x</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">Fisher1996_est</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 17</span></span></span>
<span><span class="co">#&gt;   study      Setting    Outcome     treatment es_method         M  ppcor    Nt</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Fisher1996 Inpatient  Alcohol use Cognitive diff-in-diffs 1.866 0.953<span style="text-decoration: underline;">3</span>     6</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Fisher1996 Outpatient Alcohol use Cognitive diff-in-diffs 2.556 0.988<span style="text-decoration: underline;">0</span>     6</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Fisher1996 Inpatient  Alcohol use Disease   diff-in-diffs 2.493 0.986<span style="text-decoration: underline;">4</span>     6</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Fisher1996 Outpatient Alcohol use Disease   diff-in-diffs 2.660 0.990<span style="text-decoration: underline;">3</span>     6</span></span>
<span><span class="co">#&gt;      Nc N_tot df_ind s_pool diff_t diff_c        d       vd      se</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     6    12     12 0.139<span style="text-decoration: underline;">3</span> -<span style="color: #BB0000;">0.423</span> -<span style="color: #BB0000;">0.208</span> -<span style="color: #BB0000;">1.543</span>   0.130<span style="text-decoration: underline;">4</span>   0.361<span style="text-decoration: underline;">0</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     6    12     12 0.199<span style="text-decoration: underline;">4</span> -<span style="color: #BB0000;">0.446</span> -<span style="color: #BB0000;">0.19</span>  -<span style="color: #BB0000;">1.284</span>   0.076<span style="text-decoration: underline;">68</span>  0.276<span style="text-decoration: underline;">9</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     6    12     12 0.153<span style="text-decoration: underline;">0</span> -<span style="color: #BB0000;">0.399</span> -<span style="color: #BB0000;">0.208</span> -<span style="color: #BB0000;">1.248</span>   0.073<span style="text-decoration: underline;">97</span>  0.272<span style="text-decoration: underline;">0</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>     6    12     12 0.188<span style="text-decoration: underline;">2</span> -<span style="color: #BB0000;">0.204</span> -<span style="color: #BB0000;">0.19</span>  -<span style="color: #BB0000;">0.074</span><span style="color: #BB0000; text-decoration: underline;">39</span> 0.006<span style="text-decoration: underline;">725</span> 0.082<span style="text-decoration: underline;">00</span></span></span></code></pre></div>
<p>Cluster bias correction when there is clustering in the treatment
group only</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># [INSERT EXAMPLE WHEN FUNCTIONS ARE ADDED TO THE PACKAGE]</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="reference">Reference<a class="anchor" aria-label="anchor" href="#reference"></a>
</h2>
<p>Fisher, M. S., &amp; Bentley, K. J. (1996). Two group therapy models
for clients with a dual diagnosis of substance abuse and personality
disorder. <em>Psychiatric services</em>, 47(6) <a href="https://doi.org/10.1176/ps.47.11.1244" class="external-link uri">https://doi.org/10.1176/ps.47.11.1244</a></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Mikkel H. Vembye, Rasmus H. Klokker.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
